<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–æ–≥–æ–¥–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #eef2f3;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .weather-container {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      text-align: center;
      width: 300px;
    }

    .icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .temperature {
      font-size: 32px;
      margin: 10px 0;
    }

    .info {
      margin: 8px 0;
      font-size: 16px;
      color: #555;
    }

    .buttons {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
    }

    button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      color: white;
      font-size: 22px;
      padding: 8px 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    }
  </style>
</head>
<body>

<div class="weather-container">
  <div class="icon" id="weather-icon">‚òÄÔ∏è</div>
  <div class="temperature" id="temperature">0¬∞ / 0¬∞</div>
  <div class="info" id="date">–î–∞—Ç–∞</div>
  <div class="info" id="precipitation">–û—Å–∞–¥–∫–∏: 0 –º–º</div>
  <div class="info" id="wind">–í–µ—Ç–µ—Ä: 0 –º/—Å</div>

  <div class="buttons">
    <button onclick="prevDay()">&#8592;</button>
    <button onclick="nextDay()">&#8594;</button>
  </div>
</div>

<script>
  let weatherData = [];
  let currentIndex = 0;

  const weatherIcons = {
    0: "‚òÄÔ∏è", 1: "üå§Ô∏è", 2: "‚õÖ", 3: "‚òÅÔ∏è", 45: "üå´Ô∏è", 48: "üå´Ô∏è",
    51: "üå¶Ô∏è", 53: "üåßÔ∏è", 55: "üåßÔ∏è", 61: "üåßÔ∏è", 63: "üåßÔ∏è", 65: "üåßÔ∏è",
    71: "üå®Ô∏è", 73: "üå®Ô∏è", 75: "üå®Ô∏è", 95: "‚õàÔ∏è", 96: "‚õàÔ∏è", 99: "‚õàÔ∏è"
  };

  async function fetchWeather() {
    try {
      const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=55.03&longitude=82.92&daily=temperature_2m_max,temperature_2m_min,precipitation_sum,weathercode,windspeed_10m_max&timezone=auto`);
      const data = await response.json();
      weatherData = data.daily;
      showWeather();
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    }
  }

  function showWeather() {
    if (weatherData.time && weatherData.time.length > 0) {
      const date = new Date(weatherData.time[currentIndex]);
      const options = { weekday: 'long', day: 'numeric', month: 'long' };
      const dateString = date.toLocaleDateString('ru-RU', options);

      const tempMax = weatherData.temperature_2m_max[currentIndex];
      const tempMin = weatherData.temperature_2m_min[currentIndex];
      const wind = weatherData.windspeed_10m_max[currentIndex];
      const precipitation = weatherData.precipitation_sum[currentIndex];
      const code = weatherData.weathercode[currentIndex];
      const icon = weatherIcons[code] || "‚ùì";

      document.getElementById('weather-icon').innerText = icon;
      document.getElementById('temperature').innerText = `${tempMax}¬∞ / ${tempMin}¬∞`;
      document.getElementById('date').innerText = dateString;
      document.getElementById('precipitation').innerText = `–û—Å–∞–¥–∫–∏: ${precipitation} –º–º`;
      document.getElementById('wind').innerText = `–í–µ—Ç–µ—Ä: ${wind} –º/—Å`;
    }
  }

  function nextDay() {
    currentIndex = (currentIndex + 1) % weatherData.time.length;
    showWeather();
  }

  function prevDay() {
    currentIndex = (currentIndex - 1 + weatherData.time.length) % weatherData.time.length;
    showWeather();
  }

  fetchWeather();
</script>

</body>
</html>